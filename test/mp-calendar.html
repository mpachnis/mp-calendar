<!doctype html>

<html>
    <head>
        <title>mp-calendar</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
        <script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
        <script src="../node_modules/wct-browser-legacy/browser.js"></script>
    </head>
    <body>

        <test-fixture id="calendar">
            <template>
                <mp-calendar></mp-calendar>
            </template>
        </test-fixture>

        <script type="module">
            import '@polymer/iron-test-helpers/mock-interactions.js';
            import '../mp-calendar.js';

            suite('mp-calendar', () => {
                var calendar;

                setup( () => {
                    calendar = fixture('calendar');
                });

                test('instantiating the element works', () => {
                    expect(calendar).to.be.ok;
                });

                test('set disablePrevDays attribute to false, then to true', () => {
                    calendar.disablePrevDays = true;
                    expect(calendar.disablePrevDays).to.be.eql(true);

                    calendar.disablePrevDays = false;
                    expect(calendar.disablePrevDays).to.be.eql(false);
                });

                test('check dayLabels', () => {
                    expect(calendar.dayLabels).to.be.an('array');
                });

                test('check dayLabels to be 7', () => {
                    // assert.equal(calendar.dayLabels.length, 7);
                    expect(calendar.dayLabels.length).to.be.eql(7);
                });

                test('check monthLabels', () => {
                    expect(calendar.monthLabels).to.be.an('array');
                });

                test('check monthLabels to be 12', () => {
                    // assert.equal(calendar.monthLabels.length, 12);
                    expect(calendar.monthLabels.length).to.be.eql(12);
                });

                test('first day of week is Sunday', () => {
                    // assert.equal(calendar.firstDayOfWeek, 0);
                    expect(calendar.firstDayOfWeek).to.be.eql(0);
                });

                test('check disabledDates', () => {
                    expect(calendar.disabledDates).to.be.an('array');
                });

                test('5th, 10th and 29th days are disabled ', () => {
                    calendar.disabledDates = [5, 10, 29];
                    expect(calendar.disabledDates[0]).to.be.eql(5);
                    expect(calendar.disabledDates[1]).to.be.eql(10);
                    expect(calendar.disabledDates[2]).to.be.eql(29);
                });

                test('check disabledWeeks', () => {
                    expect(calendar.disabledWeeks).to.be.an('array');
                });

                test('3rd week is disabled ', () => {
                    calendar.disabledWeeks = [3];
                    assert.equal(calendar.disabledWeeks, 3);
                });

                test('check disabledDays', () => {
                    expect(calendar.disabledDays).to.be.an('array');
                });

                test('Monday and Thursday are disabled ', () => {
                    calendar.disabledDays = ["Monday", "Thursday"];
                    expect(calendar.disabledDays[0]).to.be.eql("Monday");
                    expect(calendar.disabledDays[1]).to.be.eql("Thursday");
                });
            });
        </script>
    </body>
</html>
